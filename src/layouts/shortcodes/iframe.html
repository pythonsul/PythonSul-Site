{{/* 
Shortcode: responsive iframe
Usage:
  {{< iframe src="https://example.com" aspect="16x9" title="My iframe" >}}

Parameters:
  - src    → (required) iframe URL
  - aspect → (optional) aspect ratio: "16x9" (default), "4x3", "1x1"
  - title  → (optional) for accessibility
*/}}

{{ $aspect := default "16x9" (.Get "aspect") }}
{{ $padding := cond (eq $aspect "4x3") "75%" (cond (eq $aspect "1x1") "100%" "56.25%") }}

<div style="position:relative;width:100%;padding-bottom:{{ $padding }};height:0;overflow:hidden;">
  <iframe
    src='{{ .Get "src" }}'
    title='{{ with .Get "title" }}{{ . }}{{ else }}Embedded content{{ end }}'
    style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;"
    loading="lazy"
    allowfullscreen>
  </iframe>
</div>
